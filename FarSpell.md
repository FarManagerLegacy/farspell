# Установка словарей #

Для работы FarSpell нужно установить словари в формате MySpell
или Hunspell. Скачайте архив с нужным языком и
разархивируйте два файла: `your-language.aff` и `your-language.dic`
в подпапку `dict` в папке плагина FarSpell.


# История изменений #

## 20090319 ##
  * Устранено падение Far'а, если вызывались поддиалоги диалога общих настроек.

## 20090317 ##
  * Hunspell 1.2.8

## 20060417 ##
  * Расширен диалог настроек (TODO t-rex-5)

## 20060415 ##
  * В диалогах появились кнопки "по-умолчанию".

## 20060411 ##
  * Теперь наверняка, парсер "по-умолчанию" - "Обычный текст"
  * Исправлена семантика WordChars. Теперь нормально высвечиваются слова с дефисам и апострофами.

## 20060410 ##
  * Добавлена поддержка кодовых страниц, которых нет в Windows(а может я не нашёл.) (см. FarSpell TechInfo#1)
  * Отключено автоопределение парсеров, поскольку они некорректно работают в режиме случайного доступа к тексту. Теперь, как парсер "по-умолчанию" установлен "Обычный текст".

## 20060409 ##
  * Если плагин выключен, то почти все пункты меню будут запрещены.
  * Надпись "Словари не установлены" внизу меню, если словари не доступны.

## 20060408 ##
  * Показывает варианты исправления всегда, даже, если слово не подсвечивается (идея Ianos Gnatiuc.)
  * Настройка путей поиска словарей. Можно указать несколько путей разделённых символом ; (пнул Ianos Gnatiuc, TODO 20060221-4.)
  * Более простой путь выбора словаря: через меню плагина. (совет by Ianos Gnatiuc)

## 20060324 ##
  * Исправлен синдром прыгающего курсора.

## 20060321 ##
  * Не запоминались настройки, если выбран словарь en\_US.
  * Теперь, если настройки для каждого запоминаются, то запоминаются всегда.

## 20060314 ##
  * Горячие клавиши в меню.
  * Индикатор языка в меню (идея из gSpell.)
  * Индикатор языка в диалоге "Совет" (идея из gSpell.)

## 20060313 ##
  * Добавлен пункт "Проверка текста" - для поиска ошибок по всему тексту (TODO t-rex-3, Centaur.)
  * Диалог "Совет" теперь не вносит изменения в текст, если сразу был нажат Enter (т.е. не меняли и не выбирали слово.)
  * Предотвращено переполнение буфера для слишком длинных строк, при выводе альтернатив исправления слова.
  * Возможное ускорения подсветки, за счёт последовательного доступа к тексту.

## 20060311 ##
  * Добавлена возможность указывать источник кодовой страницы
> > для кодировки Dos:
```
[HKCU\Software\Far\Plugins\FarSpell]
"OEMCodepageSource":REG_SZ="GetOEMCP"
```
> > Допустимые значения:
      * `"GetOEMCP"` - берёт системную кодовую страницу OEM.
      * `"GetConsoleOutputCP"` - берёт текущую консольную к.с.
      * `"866"` - явно назначить номер кодовой страницы для кодировки Dos.
> > (понадобилось Centaur'у)

## 20060310 ##
  * Если в текущую кодировку редактора не влазят все символы словаря, то вместо них добавлялся знак "?" (63.) В результате высвечивались знаки вопроса.
Теперь FarSpell считает, что знак вопроса никогда не относится к слову ни на каком языке.
  * Добавил точку и буквы с диакритическими знаками для en\_GB (всего 17 символов) в WordChars.reg.
  * Обрабатывается ситуация "Сохранить файл как...", когда "[x](x.md) Хранить настройки для каждого файла"

## 20060309 ##
  * FarSpell считает, что символы "'" и "-" могут встречаться только в середине слова. А если они стоят рядом со словом, то они к слову не относятся. (было TODO parse-spec-1, добавлено mid-char-conf-1)
  * Добавлен диалог "Совет" с альтернативами исправления слова.
  * На некоторых кодировках FarSpell показывал "?" вместо некоторых символов, а FAR нет. Теперь редактор FAR и FarSpell показывают слова и текст одинаково.
Для продвинутых:
При показе списка альтернатив и вставке слова, вместо GetOEMCP и конвертирования средствами Windows, FarSpell использует Plugin API (ECTL\_EDITORTOOEM). Это значит, конв-е FAR`<->`Unicode будет зависеть от таблиц перекодировки FAR, а не кодовых страниц Windows.
Преобразование Unicode`<->`Словарь, по прежнему, использует и будет использовать кодовые страницы Windows.

## 20060308 ##
  * Теперь для подпрограммы разбития текста на слова (парсера) используется кодировка текста (раньше текст конвертировался в кодировку словаря, что, в перспективе было не совсем правильно.)
  * Добавил таблицы буквенных символов для каждого словаря. Сейчас настройка только через реестр (см. TODO gSpell-1):
`HKCU\Software\Far\Plugins\FarSpell\Hunspell\имяСловаря\WordChars:hex`
Этот ключ содержит дамп строки Unicode символов. В нём должны быть указаны буквы в обоих регистрах и значки, которые входят в слова (убедитесь, что эти символы и значки присутствуют в словаре в файле имяСловаря.dic) (было TODO Centaur-1, mid-char-conf-1)
  * Готовые настройки для некоторых словарей входят в дистрибутив в файле WordChars.reg. Поддерживаемые словари: en\_GB, en\_US, ru\_RU, ru\_RU\_yo, uk\_UA.
  * Некорректно выделяет слова на другом языке, которые содержат спец-символы: дефис или апостроф. (Centaur, TODO parse-spec-1.)


## 20060304 ##
  * Настройка словаря по-умолчанию.
  * Проверяет наличие словарей, если нету, то выводит сообщение и выключает плагин.
  * А также, если словарь пропал, то будет выдано сообщение.

## 20060303 ##
  * В реестр писался мусор. Для очистки запустите !clean\_winxp.reg или !clean\_win9x.reg в зависимости от версии Windows.
  * DialogGenerator - RIP!
  * Интерактивный выбор цвета. ;)

## 20060302 ##
  * Отключение настроек для каждого файла.
  * Общие настройки доступны в редакторе.
  * Отключение плагина.

## 20060226 ##
  * hunspell-1.1.4:
    * Improved suggestion for typical OCR bugs (missing spaces capitalized words). For example: "aNew" -> "a New". http://qa.openoffice.org/issues/show_bug.cgi?id=58202
    * tokenization fixes (fix incomplete tokenization of input texts on big-endian platforms, and locale-dependent tokenization of dictionary entries)
  * Убрал раскраску латиницы для языков с кодировкой koi8.

## 20060224 ##
  * Корректная работа с другими плагинами раскраски (thanks, trex!)

## 20060222 ##
  * Отключаемый список вариантов написания слов в меню.
  * Восстановление экрана при выдаче "Загрузка словаря..." (t-rex-4)
  * Возможно, исправлено падение (см. todo.txt:t-rex-4.)

## 20060219 ##
  * Наконец-то, нашёл у себя DialogGenerator Семенова Алексея.
  * Пункт для FarSpell в меню "Параметры внешних модулей".
  * Мелкие изменения.